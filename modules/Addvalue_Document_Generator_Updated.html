<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVS Service Catalog - PTTEP Compliant</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* Header */
        .header {
            background: linear-gradient(90deg, #1e3c72, #2a5298);
            color: white;
            padding: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo { font-size: 24px; font-weight: bold; }
        .doc-number { font-family: monospace; background: rgba(0,0,0,0.2); padding: 8px 15px; border-radius: 5px; }
        
        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: #f0f0f0;
            border-bottom: 2px solid #ddd;
            overflow-x: auto;
        }
        
        .nav-tab {
            padding: 15px 25px;
            cursor: pointer;
            background: transparent;
            border: none;
            font-size: 14px;
            font-weight: 500;
            color: #555;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .nav-tab:hover { background: #e0e0e0; }
        .nav-tab.active {
            background: white;
            color: #2a5298;
            border-bottom: 3px solid #2a5298;
            margin-bottom: -2px;
        }
        
        /* Content Area */
        .content { padding: 30px; }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Forms */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .form-group input, .form-group select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #2a5298;
        }
        
        /* Document Number Display */
        .doc-preview {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2a5298;
        }
        
        .doc-preview h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
        }
        
        .generated-number {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            color: #2a5298;
            font-weight: bold;
            padding: 10px;
            background: white;
            border-radius: 5px;
            display: inline-block;
        }
        
        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .data-table th {
            background: #2a5298;
            color: white;
            padding: 15px;
            text-align: left;
            font-size: 13px;
            text-transform: uppercase;
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }
        
        .data-table tr:hover { background: #f8f9fa; }
        
        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
        }
        
        .btn-primary {
            background: #2a5298;
            color: white;
        }
        
        .btn-primary:hover { background: #1e3c72; }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* Status Badge */
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active { background: #d4edda; color: #155724; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-review { background: #d1ecf1; color: #0c5460; }
        
        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .action-card {
            padding: 20px;
            background: white;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .action-card:hover {
            border-color: #2a5298;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .action-icon {
            font-size: 30px;
            margin-bottom: 10px;
        }
        
        .action-title {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">üèóÔ∏è AVS SERVICE CATALOG - PTTEP</div>
            <div class="doc-number" id="currentDocNum">TH-ZTK-1A-GEN-GEN-DOC-0001 Rev.A1</div>
        </div>
        
        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="generator">Document Generator</button>
            <button class="nav-tab" data-tab="catalog">Document Catalog</button>
            <button class="nav-tab" data-tab="workflow">Workflow Status</button>
            <button class="nav-tab" data-tab="standards">PTTEP Standards</button>
            <button class="nav-tab" data-tab="settings">Settings</button>
        </div>
        
        <!-- Content -->
        <div class="content">
            <!-- Document Generator Tab -->
            <div id="generator" class="tab-content active">
                <h2>üìÑ Document Number Generator</h2>
                
                <div class="doc-preview">
                    <h3>Document Number Structure (PTTEP Standard)</h3>
                    <div class="generated-number" id="generatedNumber">
                        AA-BBB-CC-DDD-EEE-FFF-####-### Rev.X
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Country Code</label>
                        <select id="countryCode">
                            <option value="TH">TH - Thailand</option>
                            <option value="MM">MM - Myanmar</option>
                            <option value="MY">MY - Malaysia</option>
                            <option value="VN">VN - Vietnam</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Field/Project</label>
                        <select id="fieldCode">
                            <optgroup label="üáπüá≠ Thailand - Offshore">
                                <option value="G1">G1 - G1 Field Complex</option>
                                <option value="PLT">PLT - Platong Platform</option>
                                <option value="ERW">ERW - Erawan Platform</option>
                                <option value="SAT">SAT - Satun Platform</option>
                                <option value="FUN">FUN - Funan Platform</option>
                                <option value="G2">G2 - G2 Field Complex</option>
                                <option value="G2N">G2N - G2N Platform</option>
                                <option value="G2S">G2S - G2S Platform</option>
                                <option value="ART">ART - Arthit Platform</option>
                                <option value="BUA">BUA - Bualuang Field</option>
                                <option value="ALP">ALP - Alpha Platform</option>
                                <option value="BRV">BRV - Bravo Platform</option>
                                <option value="GCME">GCME - GCME Field</option>
                                <option value="ARTS">ARTS - Arthit South Platform</option>
                            </optgroup>
                            <optgroup label="üá≤üá≤ Myanmar - Offshore">
                                <option value="ZTK">ZTK - ZAWTIKA Field</option>
                                <option value="ZPQ">ZPQ - ZPQ Platform</option>
                                <option value="Z1D">Z1D - Z1D Platform</option>
                                <option value="Z1E">Z1E - Z1E Platform</option>
                            </optgroup>
                            <optgroup label="üá≤üá≤ Myanmar - Onshore">
                                <option value="ATL">ATL - ATL Station (ZAWTIKA)</option>
                                <option value="YDN">YDN - YADANA Field</option>
                                <option value="PLC">PLC - PLC-MS Station</option>
                            </optgroup>
                            <optgroup label="üá≤üáæ Malaysia - Offshore">
                                <option value="JDA">JDA - JDA Field</option>
                                <option value="CPOC">CPOC - CPOC Platform</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Project Phase</label>
                        <select id="phaseCode">
                            <option value="1A">1A - Phase 1A</option>
                            <option value="1B">1B - Phase 1B</option>
                            <option value="00">00 - Not Applicable</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Area</label>
                        <select id="areaCode">
                            <option value="GEN">GEN - General</option>
                            <optgroup label="Thailand Platforms">
                                <option value="PLT">PLT - Platong Platform</option>
                                <option value="ERW">ERW - Erawan Platform</option>
                                <option value="SAT">SAT - Satun Platform</option>
                                <option value="FUN">FUN - Funan Platform</option>
                                <option value="G2N">G2N - G2N Platform</option>
                                <option value="G2S">G2S - G2S Platform</option>
                                <option value="ART">ART - Arthit Platform</option>
                                <option value="ALP">ALP - Alpha Platform</option>
                                <option value="BRV">BRV - Bravo Platform</option>
                                <option value="ARTS">ARTS - Arthit South Platform</option>
                            </optgroup>
                            <optgroup label="Myanmar Platforms">
                                <option value="ZPQ">ZPQ - Zawtika Processing Quarter</option>
                                <option value="Z1D">Z1D - Wellhead Platform Z1D</option>
                                <option value="Z1E">Z1E - Wellhead Platform Z1E</option>
                                <option value="ATL">ATL - ATL Station</option>
                                <option value="PLC">PLC - PLC-MS Station</option>
                            </optgroup>
                            <optgroup label="Malaysia Platforms">
                                <option value="CPOC">CPOC - CPOC Platform</option>
                            </optgroup>
                            <optgroup label="Process Areas">
                                <option value="CPP">CPP - Central Process</option>
                                <option value="UTL">UTL - Utilities</option>
                                <option value="PWR">PWR - Power Generation</option>
                                <option value="COM">COM - Compression</option>
                                <option value="SEP">SEP - Separation</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Discipline</label>
                        <select id="disciplineCode">
                            <option value="GEN">GEN - General</option>
                            <option value="PRO">PRO - Process</option>
                            <option value="MEC">MEC - Mechanical</option>
                            <option value="ELE">ELE - Electrical</option>
                            <option value="INS">INS - Instrumentation</option>
                            <option value="PIP">PIP - Piping</option>
                            <option value="STR">STR - Structural</option>
                            <option value="SAF">SAF - Safety</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Document Type</label>
                        <select id="docType">
                            <option value="SPE">SPE - Specification</option>
                            <option value="PDR">PDR - Procedure</option>
                            <option value="CAL">CAL - Calculation</option>
                            <option value="DWG">DWG - Drawing</option>
                            <option value="PID">PID - P&ID</option>
                            <option value="DTS">DTS - Datasheet</option>
                            <option value="RPT">RPT - Report</option>
                            <option value="PHI">PHI - Philosophy</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Sequential Number</label>
                        <input type="text" id="seqNumber" value="0001" maxlength="4">
                    </div>
                    
                    <div class="form-group">
                        <label>Sheet Number</label>
                        <input type="text" id="sheetNumber" placeholder="001 (if applicable)">
                    </div>
                    
                    <div class="form-group">
                        <label>Revision</label>
                        <select id="revision">
                            <option value="A1">A1 - IFR/IFI</option>
                            <option value="B1">B1 - IFA/IFT</option>
                            <option value="C1">C1 - AFC/IFP</option>
                            <option value="00">00 - As-Built</option>
                        </select>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="generateDocNumber()">Generate Number</button>
                    <button class="btn btn-success" onclick="saveDocument()">Save Document</button>
                </div>
            </div>
            
            <!-- Document Catalog Tab -->
            <div id="catalog" class="tab-content">
                <h2>üìö Document Catalog</h2>
                
                <div class="quick-actions">
                    <div class="action-card" onclick="filterByStatus('all')">
                        <div class="action-icon">üìã</div>
                        <div class="action-title">All Documents</div>
                    </div>
                    <div class="action-card" onclick="filterByStatus('active')">
                        <div class="action-icon">‚úÖ</div>
                        <div class="action-title">Active</div>
                    </div>
                    <div class="action-card" onclick="filterByStatus('review')">
                        <div class="action-icon">üîç</div>
                        <div class="action-title">Under Review</div>
                    </div>
                    <div class="action-card" onclick="filterByStatus('pending')">
                        <div class="action-icon">‚è≥</div>
                        <div class="action-title">Pending</div>
                    </div>
                </div>
                
                <table class="data-table" id="docTable">
                    <thead>
                        <tr>
                            <th>Document Number</th>
                            <th>Title</th>
                            <th>Discipline</th>
                            <th>Type</th>
                            <th>Revision</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="docTableBody">
                        <!-- Documents will be loaded here -->
                    </tbody>
                </table>
            </div>
            
            <!-- Workflow Tab -->
            <div id="workflow" class="tab-content">
                <h2>üîÑ Workflow Status</h2>
                <div class="doc-preview">
                    <h3>Document Workflow Process</h3>
                    <div style="padding: 20px;">
                        <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; border-radius: 50%; background: #28a745; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">IFR</div>
                                <small>For Review</small>
                            </div>
                            <div>‚Üí</div>
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; border-radius: 50%; background: #ffc107; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">IFA</div>
                                <small>For Approval</small>
                            </div>
                            <div>‚Üí</div>
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; border-radius: 50%; background: #17a2b8; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">AFC</div>
                                <small>For Construction</small>
                            </div>
                            <div>‚Üí</div>
                            <div style="text-align: center;">
                                <div style="width: 60px; height: 60px; border-radius: 50%; background: #6c757d; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold;">AB</div>
                                <small>As-Built</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Standards Tab -->
            <div id="standards" class="tab-content">
                <h2>üìè PTTEP Coding Standards</h2>
                <div class="doc-preview">
                    <h3>Quick Reference</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                        <div>
                            <h4>Document Types</h4>
                            <ul style="list-style: none; padding: 10px;">
                                <li>üìÑ SPE - Specification</li>
                                <li>üìã PDR - Procedure</li>
                                <li>üî¢ CAL - Calculation</li>
                                <li>üìê DWG - Drawing</li>
                                <li>üîß PID - P&ID</li>
                            </ul>
                        </div>
                        <div>
                            <h4>Revision Codes</h4>
                            <ul style="list-style: none; padding: 10px;">
                                <li>üü¢ A1,A2... - IFR/IFI</li>
                                <li>üü° B1,B2... - IFA/IFT</li>
                                <li>üîµ C1,C2... - AFC/IFP</li>
                                <li>‚ö™ 00,01... - As-Built</li>
                                <li>‚ùå X - Void</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Settings Tab -->
            <div id="settings" class="tab-content">
                <h2>‚öôÔ∏è Settings</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Default Country</label>
                        <select id="defaultCountry">
                            <option value="TH">Thailand</option>
                            <option value="MM">Myanmar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Default Field</label>
                        <select id="defaultField">
                            <option value="ZTK">Zawtika</option>
                            <option value="ART">Arthit</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>
    </div>
    
    <script>
        // PTTEP Coding System Module
        const PTTEPCoding = {
            // Code mappings based on PTTEP standard
            countryCodes: {
                'TH': 'Thailand',
                'MM': 'Myanmar',
                'MY': 'Malaysia',
                'VN': 'Vietnam'
            },
            
            disciplineCodes: {
                'GEN': 'General',
                'PRO': 'Process',
                'MEC': 'Mechanical',
                'ELE': 'Electrical',
                'INS': 'Instrumentation',
                'PIP': 'Piping',
                'STR': 'Structural',
                'SAF': 'Safety'
            },
            
            documentTypes: {
                'SPE': 'Specification',
                'PDR': 'Procedure',
                'CAL': 'Calculation',
                'DWG': 'Drawing',
                'PID': 'P&ID',
                'DTS': 'Datasheet',
                'RPT': 'Report',
                'PHI': 'Philosophy'
            },
            
            // Generate document number
            generate: function() {
                const country = document.getElementById('countryCode').value;
                const field = document.getElementById('fieldCode').value;
                const phase = document.getElementById('phaseCode').value;
                const area = document.getElementById('areaCode').value;
                const discipline = document.getElementById('disciplineCode').value;
                const docType = document.getElementById('docType').value;
                const seq = document.getElementById('seqNumber').value.padStart(4, '0');
                const sheet = document.getElementById('sheetNumber').value;
                const rev = document.getElementById('revision').value;
                
                let docNumber = `${country}-${field}-${phase}-${area}-${discipline}-${docType}-${seq}`;
                if (sheet) docNumber += `-${sheet.padStart(3, '0')}`;
                docNumber += ` Rev.${rev}`;
                
                return docNumber;
            }
        };
        
        // Document Storage Module
        const DocumentStore = {
            key: 'pttep_documents',
            
            getAll: function() {
                return JSON.parse(localStorage.getItem(this.key) || '[]');
            },
            
            save: function(doc) {
                const docs = this.getAll();
                doc.id = Date.now();
                doc.createdAt = new Date().toISOString();
                docs.push(doc);
                localStorage.setItem(this.key, JSON.stringify(docs));
                return doc;
            },
            
            update: function(id, updates) {
                const docs = this.getAll();
                const index = docs.findIndex(d => d.id === id);
                if (index !== -1) {
                    docs[index] = {...docs[index], ...updates};
                    localStorage.setItem(this.key, JSON.stringify(docs));
                    return docs[index];
                }
                return null;
            },
            
            delete: function(id) {
                const docs = this.getAll();
                const filtered = docs.filter(d => d.id !== id);
                localStorage.setItem(this.key, JSON.stringify(filtered));
            }
        };
        
        // UI Controller
        const UI = {
            init: function() {
                this.attachEventListeners();
                this.loadDocuments();
                this.updateGeneratedNumber();
            },
            
            attachEventListeners: function() {
                // Tab switching
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        
                        e.target.classList.add('active');
                        const tabId = e.target.dataset.tab;
                        document.getElementById(tabId).classList.add('active');
                    });
                });
                
                // Form changes
                document.querySelectorAll('#generator select, #generator input').forEach(field => {
                    field.addEventListener('change', () => this.updateGeneratedNumber());
                });
            },
            
            updateGeneratedNumber: function() {
                const docNum = PTTEPCoding.generate();
                document.getElementById('generatedNumber').textContent = docNum;
                document.getElementById('currentDocNum').textContent = docNum;
            },
            
            loadDocuments: function() {
                const docs = DocumentStore.getAll();
                const tbody = document.getElementById('docTableBody');
                
                tbody.innerHTML = docs.map(doc => `
                    <tr>
                        <td><strong>${doc.number}</strong></td>
                        <td>${doc.title || 'Untitled'}</td>
                        <td>${doc.discipline}</td>
                        <td>${doc.type}</td>
                        <td>${doc.revision}</td>
                        <td><span class="status status-${doc.status}">${doc.status}</span></td>
                        <td>
                            <button class="btn btn-sm" onclick="editDoc(${doc.id})">‚úèÔ∏è</button>
                            <button class="btn btn-sm" onclick="deleteDoc(${doc.id})">üóëÔ∏è</button>
                        </td>
                    </tr>
                `).join('');
            }
        };
        
        // Global functions
        function generateDocNumber() {
            UI.updateGeneratedNumber();
        }
        
        function saveDocument() {
            const doc = {
                number: PTTEPCoding.generate(),
                title: prompt('Enter document title:') || 'Untitled',
                discipline: document.getElementById('disciplineCode').value,
                type: document.getElementById('docType').value,
                revision: document.getElementById('revision').value,
                status: 'active'
            };
            
            DocumentStore.save(doc);
            UI.loadDocuments();
            
            // Auto increment sequence number
            const seqField = document.getElementById('seqNumber');
            seqField.value = (parseInt(seqField.value) + 1).toString().padStart(4, '0');
            UI.updateGeneratedNumber();
            
            alert('Document saved successfully!');
        }
        
        function deleteDoc(id) {
            if (confirm('Delete this document?')) {
                DocumentStore.delete(id);
                UI.loadDocuments();
            }
        }
        
        function filterByStatus(status) {
            const docs = DocumentStore.getAll();
            const filtered = status === 'all' ? docs : docs.filter(d => d.status === status);
            
            const tbody = document.getElementById('docTableBody');
            tbody.innerHTML = filtered.map(doc => `
                <tr>
                    <td><strong>${doc.number}</strong></td>
                    <td>${doc.title || 'Untitled'}</td>
                    <td>${doc.discipline}</td>
                    <td>${doc.type}</td>
                    <td>${doc.revision}</td>
                    <td><span class="status status-${doc.status}">${doc.status}</span></td>
                    <td>
                        <button class="btn btn-sm" onclick="editDoc(${doc.id})">‚úèÔ∏è</button>
                        <button class="btn btn-sm" onclick="deleteDoc(${doc.id})">üóëÔ∏è</button>
                    </td>
                </tr>
            `).join('');
        }
        
        function saveSettings() {
            alert('Settings saved!');
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            UI.init();
        });
    </script>
</body>
</html>