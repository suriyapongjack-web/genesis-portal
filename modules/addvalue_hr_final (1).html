<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Addvalue HR Management System | ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</title>
    <meta name="description" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô Addvalue System - HR Management Platform v1.0">
    <meta name="author" content="Addvalue System Co., Ltd.">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        header { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .logo { font-size: 24px; font-weight: bold; color: #764ba2; }
        .nav-tabs { display: flex; gap: 10px; }
        .tab-btn { padding: 10px 20px; background: #f0f0f0; border: none; border-radius: 5px; cursor: pointer; transition: all 0.3s; }
        .tab-btn.active { background: #667eea; color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .card { background: white; border-radius: 10px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; }
        .stat-number { font-size: 2em; font-weight: bold; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #f8f9fa; font-weight: 600; }
        tr:hover { background: #f8f9fa; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 500; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; transition: all 0.3s; }
        .btn-primary { background: #667eea; color: white; }
        .btn-success { background: #48bb78; color: white; }
        .btn-danger { background: #f56565; color: white; }
        .btn-warning { background: #ed8936; color: white; }
        .btn:hover { opacity: 0.9; }
        .search-box { display: flex; gap: 10px; margin-bottom: 20px; }
        .search-box input { flex: 1; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000; }
        .modal.show { display: flex; }
        .modal-content { background: white; padding: 30px; border-radius: 10px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .close-btn { font-size: 1.5em; cursor: pointer; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px 20px; border-radius: 5px; color: white; animation: slideIn 0.3s; z-index: 2000; }
        .notification.success { background: #48bb78; }
        .notification.error { background: #f56565; }
        .notification.warning { background: #ed8936; }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .file-ops { background: #f8f9fa; padding: 15px; border-radius: 10px; }
        .file-ops-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        .status-indicator { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 5px; }
        .status-indicator.saved { background: #48bb78; }
        .status-indicator.unsaved { background: #ed8936; }
        .info-card { background: white; padding: 10px; border-radius: 5px; margin: 5px 0; }
        
        /* Personal cards styling */
        #personalCards .card { 
            transition: transform 0.3s, box-shadow 0.3s; 
            cursor: default;
            border: 1px solid #e0e0e0;
        }
        #personalCards .card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        @media (max-width: 768px) { 
            .stats-grid { grid-template-columns: 1fr; }
            #personalCards { grid-template-columns: 1fr !important; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Project Info Bar -->
        <div style="background: rgba(255,255,255,0.95); padding: 10px 20px; border-radius: 10px 10px 0 0; margin-bottom: -10px; display: flex; justify-content: space-between; align-items: center; font-size: 0.85em; color: #666;">
            <div>
                <strong>üìÅ Project:</strong> Addvalue HR Management System | 
                <strong>üè¢ Company:</strong> Addvalue System Co., Ltd.
            </div>
            <div>
                <strong>üìã Version:</strong> v1.0 | 
                <strong>üìÖ Updated:</strong> <span id="systemDate"></span>
            </div>
        </div>
        
        <header style="border-radius: 0 0 10px 10px;">
            <div>
                <div class="logo">üè¢ Addvalue HR System</div>
                <div style="font-size: 0.9em; color: #666; margin-top: 5px;">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</div>
            </div>
            <div class="nav-tabs">
                <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
                <button class="tab-btn" data-tab="employees">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</button>
                <button class="tab-btn" data-tab="personal">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</button>
            </div>
        </header>

        <div class="card file-ops">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h3>üìÅ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
                <div style="font-size: 0.9em; color: #666;">
                    <strong>Project:</strong> HR-MGMT-2025 | <strong>Database:</strong> LocalStorage
                </div>
            </div>
            <div class="file-ops-grid">
                <button class="btn btn-success" id="saveBtn">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                <button class="btn btn-primary" id="exportBtn">‚¨áÔ∏è Export (.json)</button>
                <button class="btn btn-warning" id="importBtn">‚¨ÜÔ∏è Import</button>
                <input type="file" id="importFile" accept=".json" style="display:none">
                <button class="btn btn-danger" id="clearBtn">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
            <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                <div class="info-card" style="background: linear-gradient(90deg, #f0f0f0, #fff); padding: 12px;">
                    <strong>üè∑Ô∏è Project Name:</strong> <span style="color: #667eea; font-weight: bold;">Addvalue HR Management System</span>
                </div>
                <div class="info-card">
                    <strong>üìÑ File Name:</strong> <span id="lastFileName">addvalue_hr_final.html</span>
                </div>
                <div class="info-card">
                    <strong>üî¢ System Version:</strong> <span id="fileVersion">v1.0 (Build 2025)</span>
                </div>
                <div class="info-card">
                    <strong>üìÖ Last Modified:</strong> <span id="lastUpdate">-</span>
                </div>
                <div class="info-card">
                    <strong>üíæ Storage Type:</strong> Browser LocalStorage (Persistent)
                </div>
                <div class="info-card">
                    <strong>üìç Storage Path:</strong> <code id="storagePath">localStorage://addvalueHRData</code>
                </div>
                <div class="info-card" style="background: #fff3cd; border-left: 3px solid #ffc107;">
                    <strong>üë§ Author:</strong> Addvalue System Development Team
                </div>
            </div>
        </div>

        <div id="dashboard" class="tab-content active">
            <!-- Project Information Card -->
            <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 20px;">
                <h3 style="margin-bottom: 15px;">üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div>
                        <strong>Project Name:</strong><br>
                        Addvalue HR Management System
                    </div>
                    <div>
                        <strong>Project Code:</strong><br>
                        HR-MGMT-2025
                    </div>
                    <div>
                        <strong>File Name:</strong><br>
                        addvalue_hr_final.html
                    </div>
                    <div>
                        <strong>System Status:</strong><br>
                        <span style="background: #48bb78; padding: 2px 10px; border-radius: 15px;">üü¢ Active</span>
                    </div>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div>‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    <div class="stat-number" id="totalEmployees">0</div>
                </div>
                <div class="stat-card">
                    <div>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏£‡∏ß‡∏°/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
                    <div class="stat-number" id="totalSalary">‡∏ø0</div>
                </div>
                <div class="stat-card">
                    <div>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                    <div class="stat-number" id="avgSalary">‡∏ø0</div>
                </div>
                <div class="stat-card">
                    <div>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏£‡∏ß‡∏°/‡∏õ‡∏µ</div>
                    <div class="stat-number" id="yearlySalary">‡∏ø0</div>
                </div>
            </div>

            <div class="card" style="margin-top: 20px;">
                <h3>üí∞ ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                    <div style="padding: 15px; background: #e3f2fd; border-radius: 8px;">
                        <div style="color: #1976d2;">‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏£‡∏ß‡∏°/‡∏ß‡∏±‡∏ô</div>
                        <div style="font-size: 1.5em; font-weight: bold;" id="dailySalary">‡∏ø0</div>
                    </div>
                    <div style="padding: 15px; background: #f3e5f5; border-radius: 8px;">
                        <div style="color: #7b1fa2;">‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏£‡∏ß‡∏°/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
                        <div style="font-size: 1.5em; font-weight: bold;" id="hourlySalary">‡∏ø0</div>
                    </div>
                    <div style="padding: 15px; background: #fff3e0; border-radius: 8px;">
                        <div style="color: #ef6c00;">‡∏Ñ‡πà‡∏≤ OT ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
                        <div style="font-size: 1.5em; font-weight: bold;" id="avgOT">‡∏ø0</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="employees" class="tab-content">
            <div class="card">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô...">
                    <button class="btn btn-primary" id="addEmployeeBtn">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</button>
                    <button class="btn btn-success" id="exportCsvBtn">üì• Export CSV</button>
                </div>
                
                <div style="overflow-x: auto;">
                    <table id="employeeTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                                <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                                <th>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</th>
                                <th>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏ß‡∏±‡∏ô</th>
                                <th>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏ä‡∏°.</th>
                                <th>OT/‡∏ä‡∏°.</th>
                                <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                                <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                
                <div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <small>
                        <strong>üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> 
                        ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏ß‡∏±‡∏ô = ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô √∑ 30 | 
                        ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏ä‡∏°. = ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô √∑ 240 | 
                        OT = ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏ä‡∏°. √ó 1.5
                    </small>
                </div>
            </div>
        </div>

        <div id="personal" class="tab-content">
            <div class="card">
                <h3>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                <div class="search-box">
                    <input type="text" id="personalSearchInput" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà...">
                    <button class="btn btn-primary" id="exportPersonalBtn">üì• Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</button>
                </div>
                
                <div id="personalCards" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 20px;">
                    <!-- Personal cards will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <div id="employeeModal" class="modal">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 id="modalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h2>
                <span class="close-btn" id="closeModalBtn">&times;</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
                    <input type="text" id="empName">
                </div>
                <div class="form-group">
                    <label>‡πÅ‡∏ú‡∏ô‡∏Å *</label>
                    <select id="empDepartment">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å</option>
                        <option value="Administration">Administration</option>
                        <option value="Engineering">Engineering</option>
                        <option value="Management">Management</option>
                        <option value="Sales & Marketing">Sales & Marketing</option>
                        <option value="Technical">Technical</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                    <input type="text" id="empPosition">
                </div>
                <div class="form-group">
                    <label>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô *</label>
                    <input type="number" id="empSalary" min="0">
                </div>
                <div class="form-group">
                    <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏• *</label>
                    <input type="email" id="empEmail">
                </div>
                <div class="form-group">
                    <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ *</label>
                    <input type="tel" id="empPhone" placeholder="0812345678">
                </div>
                <div class="form-group">
                    <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î *</label>
                    <input type="date" id="empBirthdate">
                </div>
                <div class="form-group" style="grid-column: 1 / -1;">
                    <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà *</label>
                    <textarea id="empAddress" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
                </div>
            </div>
            <input type="hidden" id="empId">
            <div style="margin-top: 20px;">
                <button class="btn btn-success" id="saveEmployeeBtn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <button class="btn btn-danger" id="cancelModalBtn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <script>
        // Initial data
        const initialEmployees = [
            { 
                id: 1, 
                name: '‡∏ì‡∏±‡∏ä‡∏ä‡∏≤ ‡∏¢‡∏≠‡∏î‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡πå', 
                department: 'Administration', 
                position: 'Admin Officer', 
                salary: 14000, 
                email: 'natcha@hotmail.com',
                phone: '0891234567',
                birthdate: '1995-03-15',
                address: '123 ‡∏ñ.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó ‡πÅ‡∏Ç‡∏ß‡∏á‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡πÄ‡∏Ç‡∏ï‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110'
            },
            { 
                id: 2, 
                name: 'Aurnchalee Meenak', 
                department: 'Management', 
                position: 'Manager', 
                salary: 50000, 
                email: 'aurnchalee@addvaluesystem.com',
                phone: '0812345678',
                birthdate: '1988-07-22',
                address: '456 ‡∏ñ.‡∏û‡∏´‡∏•‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô ‡πÅ‡∏Ç‡∏ß‡∏á‡∏™‡∏≤‡∏°‡πÄ‡∏™‡∏ô‡πÉ‡∏ô ‡πÄ‡∏Ç‡∏ï‡∏û‡∏ç‡∏≤‡πÑ‡∏ó ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10400'
            },
            { 
                id: 3, 
                name: 'Ratchaneekom Mo-on', 
                department: 'Engineering', 
                position: 'Telecommunication Engineer', 
                salary: 24000, 
                email: 'ratchaneekom@addvaluesystem.com',
                phone: '0823456789',
                birthdate: '1992-11-08',
                address: '789 ‡∏ñ.‡∏£‡∏≤‡∏°‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏≤ ‡πÅ‡∏Ç‡∏ß‡∏á‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå ‡πÄ‡∏Ç‡∏ï‡∏ö‡∏≤‡∏á‡πÄ‡∏Ç‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10220'
            },
            { 
                id: 4, 
                name: 'Sakda Wongjam', 
                department: 'Engineering', 
                position: 'Senior Engineer', 
                salary: 82000, 
                email: 'sakda@addvaluesystem.com',
                phone: '0834567890',
                birthdate: '1985-05-10',
                address: '321 ‡∏ñ.‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß ‡πÅ‡∏Ç‡∏ß‡∏á‡∏à‡∏≠‡∏°‡∏û‡∏• ‡πÄ‡∏Ç‡∏ï‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10900'
            },
            { 
                id: 5, 
                name: 'Suriyapong Yoo-om-sin', 
                department: 'Management', 
                position: 'Executive', 
                salary: 120000, 
                email: 'suriyapong@addvaluesystem.com',
                phone: '0845678901',
                birthdate: '1980-12-25',
                address: '654 ‡∏ñ.‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ñ‡∏ô‡∏ô‡∏û‡∏ç‡∏≤‡πÑ‡∏ó ‡πÄ‡∏Ç‡∏ï‡∏£‡∏≤‡∏ä‡πÄ‡∏ó‡∏ß‡∏µ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10400'
            },
            { 
                id: 6, 
                name: 'Suttirak Nunsong', 
                department: 'Engineering', 
                position: 'Senior Telecommunication Engineer', 
                salary: 35000, 
                email: 'suttirak@addvaluesystem.com',
                phone: '0856789012',
                birthdate: '1990-09-18',
                address: '987 ‡∏ñ.‡∏£‡∏±‡∏ä‡∏î‡∏≤‡∏†‡∏¥‡πÄ‡∏©‡∏Å ‡πÅ‡∏Ç‡∏ß‡∏á‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏á ‡πÄ‡∏Ç‡∏ï‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏á ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10400'
            },
            { 
                id: 7, 
                name: 'Wasupol Amonthat', 
                department: 'Sales & Marketing', 
                position: 'Sales Representative', 
                salary: 18000, 
                email: 'wasupol@addvaluesystem.com',
                phone: '0867890123',
                birthdate: '1993-06-30',
                address: '147 ‡∏ñ.‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏î‡∏µ‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï ‡πÅ‡∏Ç‡∏ß‡∏á‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô ‡πÄ‡∏Ç‡∏ï‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10210'
            },
            { 
                id: 8, 
                name: 'Yuttapong Eakimphon', 
                department: 'Technical', 
                position: 'Technical Staff', 
                salary: 37000, 
                email: 'yuttapong@addvaluesystem.com',
                phone: '0878901234',
                birthdate: '1991-02-14',
                address: '258 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 4 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡πÄ‡∏Ç‡∏ï‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110'
            }
        ];

        let employees = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Update system date
            const systemDate = document.getElementById('systemDate');
            if (systemDate) {
                systemDate.textContent = new Date().toLocaleDateString('th-TH', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            }
            
            loadData();
            setupEventListeners();
            updateDashboard();
            renderEmployees();
            renderPersonalData();
            updateFileInfo();
        });

        // Load data
        function loadData() {
            try {
                const data = localStorage.getItem('addvalueHRData');
                if (data) {
                    employees = JSON.parse(data);
                } else {
                    employees = [...initialEmployees];
                    saveData();
                }
            } catch (e) {
                employees = [...initialEmployees];
            }
        }

        // Save data
        function saveData() {
            try {
                localStorage.setItem('addvalueHRData', JSON.stringify(employees));
                localStorage.setItem('lastSaved', new Date().toISOString());
                showNotification('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
            } catch (e) {
                showNotification('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ', 'error');
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById(this.dataset.tab).classList.add('active');
                    
                    // Render personal data when tab is clicked
                    if (this.dataset.tab === 'personal') {
                        renderPersonalData();
                    }
                });
            });

            // File operations
            document.getElementById('saveBtn').addEventListener('click', saveData);
            document.getElementById('exportBtn').addEventListener('click', exportData);
            document.getElementById('importBtn').addEventListener('click', () => document.getElementById('importFile').click());
            document.getElementById('importFile').addEventListener('change', importData);
            document.getElementById('clearBtn').addEventListener('click', clearData);

            // Employee operations
            document.getElementById('addEmployeeBtn').addEventListener('click', showAddModal);
            document.getElementById('searchInput').addEventListener('keyup', searchEmployees);
            document.getElementById('saveEmployeeBtn').addEventListener('click', saveEmployee);
            document.getElementById('closeModalBtn').addEventListener('click', closeModal);
            document.getElementById('cancelModalBtn').addEventListener('click', closeModal);
            document.getElementById('exportCsvBtn').addEventListener('click', exportCSV);
            
            // Personal data operations
            const personalSearch = document.getElementById('personalSearchInput');
            if (personalSearch) {
                personalSearch.addEventListener('keyup', searchPersonalData);
            }
            
            const exportPersonalBtn = document.getElementById('exportPersonalBtn');
            if (exportPersonalBtn) {
                exportPersonalBtn.addEventListener('click', exportPersonalData);
            }
        }

        // Update dashboard
        function updateDashboard() {
            const total = employees.reduce((sum, emp) => sum + emp.salary, 0);
            const avg = employees.length > 0 ? Math.round(total / employees.length) : 0;
            
            document.getElementById('totalEmployees').textContent = employees.length;
            document.getElementById('totalSalary').textContent = '‡∏ø' + total.toLocaleString();
            document.getElementById('avgSalary').textContent = '‡∏ø' + avg.toLocaleString();
            document.getElementById('yearlySalary').textContent = '‡∏ø' + (total * 12).toLocaleString();
            
            document.getElementById('dailySalary').textContent = '‡∏ø' + Math.round(total / 30).toLocaleString();
            document.getElementById('hourlySalary').textContent = '‡∏ø' + Math.round(total / 240).toLocaleString();
            document.getElementById('avgOT').textContent = '‡∏ø' + Math.round((total / 240 / employees.length) * 1.5).toLocaleString();
        }

        // Render employees
        function renderEmployees() {
            const tbody = document.querySelector('#employeeTable tbody');
            tbody.innerHTML = '';
            
            employees.forEach(emp => {
                const dailySalary = Math.round(emp.salary / 30);
                const hourlySalary = Math.round(emp.salary / 240);
                const otRate = Math.round(hourlySalary * 1.5);
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${emp.id}</td>
                    <td>${emp.name}</td>
                    <td>${emp.department}</td>
                    <td>${emp.position || '-'}</td>
                    <td style="color: #667eea; font-weight: bold;">‡∏ø${emp.salary.toLocaleString()}</td>
                    <td style="color: #28a745;">‡∏ø${dailySalary.toLocaleString()}</td>
                    <td style="color: #17a2b8;">‡∏ø${hourlySalary.toLocaleString()}</td>
                    <td style="color: #ffc107;">‡∏ø${otRate.toLocaleString()}</td>
                    <td>${emp.email}</td>
                    <td>
                        <button class="btn btn-warning" onclick="editEmployee(${emp.id})">‚úèÔ∏è</button>
                        <button class="btn btn-danger" onclick="deleteEmployee(${emp.id})">üóëÔ∏è</button>
                    </td>
                `;
            });
        }

        // Search employees
        function searchEmployees() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('#employeeTable tbody tr');
            rows.forEach(row => {
                row.style.display = row.textContent.toLowerCase().includes(search) ? '' : 'none';
            });
        }

        // Show add modal
        function showAddModal() {
            document.getElementById('modalTitle').textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà';
            document.getElementById('empId').value = '';
            document.getElementById('empName').value = '';
            document.getElementById('empDepartment').value = '';
            document.getElementById('empPosition').value = '';
            document.getElementById('empSalary').value = '';
            document.getElementById('empEmail').value = '';
            document.getElementById('empPhone').value = '';
            document.getElementById('empBirthdate').value = '';
            document.getElementById('empAddress').value = '';
            document.getElementById('employeeModal').classList.add('show');
        }

        // Edit employee (global function for onclick)
        window.editEmployee = function(id) {
            const emp = employees.find(e => e.id === id);
            if (!emp) return;
            
            document.getElementById('modalTitle').textContent = '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô';
            document.getElementById('empId').value = emp.id;
            document.getElementById('empName').value = emp.name;
            document.getElementById('empDepartment').value = emp.department;
            document.getElementById('empPosition').value = emp.position || '';
            document.getElementById('empSalary').value = emp.salary;
            document.getElementById('empEmail').value = emp.email;
            document.getElementById('empPhone').value = emp.phone || '';
            document.getElementById('empBirthdate').value = emp.birthdate || '';
            document.getElementById('empAddress').value = emp.address || '';
            document.getElementById('employeeModal').classList.add('show');
        }

        // Delete employee (global function for onclick)
        window.deleteEmployee = function(id) {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                employees = employees.filter(e => e.id !== id);
                saveData();
                renderEmployees();
                renderPersonalData();
                updateDashboard();
            }
        }

        // Search personal data
        function searchPersonalData() {
            const search = document.getElementById('personalSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('#personalCards .card');
            
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(search) ? '' : 'none';
            });
        }

        // Export personal data
        function exportPersonalData() {
            let csv = 'ID,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡πÅ‡∏ú‡∏ô‡∏Å,‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á,‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠,‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î,‡∏≠‡∏≤‡∏¢‡∏∏,‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà,‡∏≠‡∏µ‡πÄ‡∏°‡∏•,‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\n';
            employees.forEach(emp => {
                const age = calculateAge(emp.birthdate);
                const birthdate = emp.birthdate ? new Date(emp.birthdate).toLocaleDateString('th-TH') : '-';
                csv += `${emp.id},"${emp.name}","${emp.department}","${emp.position || '-'}","${emp.phone}","${birthdate}",${age},"${emp.address}","${emp.email}",${emp.salary}\n`;
            });
            
            const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'personal_data_' + new Date().toISOString().split('T')[0] + '.csv';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
        }

        // Close modal
        function closeModal() {
            document.getElementById('employeeModal').classList.remove('show');
        }

        // Save employee
        function saveEmployee() {
            const id = document.getElementById('empId').value;
            const name = document.getElementById('empName').value.trim();
            const department = document.getElementById('empDepartment').value;
            const position = document.getElementById('empPosition').value.trim();
            const salary = parseInt(document.getElementById('empSalary').value);
            const email = document.getElementById('empEmail').value.trim();
            const phone = document.getElementById('empPhone').value.trim();
            const birthdate = document.getElementById('empBirthdate').value;
            const address = document.getElementById('empAddress').value.trim();

            if (!name || !department || !salary || !email || !phone || !birthdate || !address) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô', 'error');
                return;
            }

            const empData = { 
                name, 
                department, 
                position, 
                salary, 
                email,
                phone,
                birthdate,
                address
            };

            if (id) {
                const index = employees.findIndex(e => e.id == id);
                employees[index] = { id: parseInt(id), ...empData };
            } else {
                const newId = Math.max(...employees.map(e => e.id), 0) + 1;
                employees.push({ id: newId, ...empData });
            }

            saveData();
            renderEmployees();
            renderPersonalData();
            updateDashboard();
            closeModal();
        }

        // Export data
        function exportData() {
            const dataStr = JSON.stringify({
                projectName: 'Addvalue HR Management System',
                projectCode: 'HR-MGMT-2025',
                fileName: 'addvalue_hr_final.html',
                employees: employees,
                exportDate: new Date().toISOString(),
                version: 'v1.0 (Build 2025)',
                company: 'Addvalue System Co., Ltd.',
                totalRecords: employees.length
            }, null, 2);
            
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'addvalue_hr_backup_' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Project: HR-MGMT-2025)', 'success');
        }

        // Import data
        function importData(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                try {
                    const data = JSON.parse(event.target.result);
                    if (data.employees) {
                        employees = data.employees;
                        saveData();
                        updateDashboard();
                        renderEmployees();
                        renderPersonalData();
                        
                        // Update file info
                        localStorage.setItem('lastImport', JSON.stringify({
                            fileName: file.name,
                            date: new Date().toISOString()
                        }));
                        updateFileInfo();
                        
                        showNotification('Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
                    }
                } catch (err) {
                    showNotification('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ', 'error');
                }
            };
            reader.readAsText(file);
        }

        // Clear data
        function clearData() {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                employees = [];
                saveData();
                updateDashboard();
                renderEmployees();
                renderPersonalData();
            }
        }

        // Export CSV
        function exportCSV() {
            let csv = 'ID,Name,Department,Position,Monthly Salary,Daily,Hourly,OT Rate,Email\n';
            employees.forEach(emp => {
                const daily = Math.round(emp.salary / 30);
                const hourly = Math.round(emp.salary / 240);
                const ot = Math.round(hourly * 1.5);
                csv += `${emp.id},"${emp.name}","${emp.department}","${emp.position || ''}",${emp.salary},${daily},${hourly},${ot},"${emp.email}"\n`;
            });
            
            const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'salary_report_' + new Date().toISOString().split('T')[0] + '.csv';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Export CSV ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
        }

        // Update file info
        function updateFileInfo() {
            const lastSaved = localStorage.getItem('lastSaved');
            const lastImport = localStorage.getItem('lastImport');
            
            // Always show current file name
            document.getElementById('lastFileName').textContent = 'addvalue_hr_final.html';
            
            // Show version with build info
            document.getElementById('fileVersion').textContent = 'v1.0 (Build 2025)';
            
            if (lastImport) {
                try {
                    const importInfo = JSON.parse(lastImport);
                    if (importInfo.fileName) {
                        document.getElementById('lastFileName').textContent = importInfo.fileName;
                    }
                    document.getElementById('lastUpdate').textContent = new Date(importInfo.date).toLocaleString('th-TH');
                } catch (e) {
                    document.getElementById('lastUpdate').textContent = '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô';
                }
            } else if (lastSaved) {
                document.getElementById('lastUpdate').textContent = new Date(lastSaved).toLocaleString('th-TH');
            } else {
                document.getElementById('lastUpdate').textContent = new Date().toLocaleString('th-TH');
            }
            
            // Update storage path with project code
            document.getElementById('storagePath').textContent = 
                'localStorage://' + window.location.hostname + '/HR-MGMT-2025/addvalueHRData';
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification ' + type;
            notification.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px;">HR-MGMT-2025</div>
                <div>${message}</div>
            `;
            document.body.appendChild(notification);
            
            // Update document title with notification
            const originalTitle = document.title;
            document.title = '‚óè ' + message + ' | Addvalue HR';
            
            setTimeout(() => {
                notification.remove();
                document.title = originalTitle;
            }, 3000);
        }

        // Render personal data cards
        function renderPersonalData() {
            const container = document.getElementById('personalCards');
            if (!container) return;
            
            container.innerHTML = '';
            
            employees.forEach(emp => {
                const age = calculateAge(emp.birthdate);
                const card = document.createElement('div');
                card.className = 'card';
                card.style.background = 'linear-gradient(135deg, #fff 0%, #f8f9fa 100%)';
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                        <h4 style="color: #667eea; margin: 0;">${emp.name}</h4>
                        <span style="background: #667eea; color: white; padding: 2px 8px; border-radius: 15px; font-size: 0.9em;">ID: ${emp.id}</span>
                    </div>
                    <div style="display: grid; gap: 10px; font-size: 0.95em;">
                        <div><strong>üè¢ ‡πÅ‡∏ú‡∏ô‡∏Å:</strong> ${emp.department}</div>
                        <div><strong>üíº ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</strong> ${emp.position || '-'}</div>
                        <div><strong>üì± ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠:</strong> ${formatPhone(emp.phone)}</div>
                        <div><strong>üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</strong> ${emp.email}</div>
                        <div><strong>üéÇ ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î:</strong> ${formatDate(emp.birthdate)} (‡∏≠‡∏≤‡∏¢‡∏∏ ${age} ‡∏õ‡∏µ)</div>
                        <div><strong>üè† ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:</strong><br>${emp.address}</div>
                        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
                            <strong>üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:</strong> 
                            <span style="color: #667eea; font-weight: bold;">‡∏ø${emp.salary.toLocaleString()}</span>/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
                        </div>
                    </div>
                    <div style="margin-top: 15px; display: flex; gap: 10px;">
                        <button class="btn btn-warning" onclick="editEmployee(${emp.id})" style="flex: 1;">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button class="btn btn-danger" onclick="deleteEmployee(${emp.id})" style="flex: 1;">üóëÔ∏è ‡∏•‡∏ö</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Calculate age from birthdate
        function calculateAge(birthdate) {
            if (!birthdate) return '-';
            const today = new Date();
            const birth = new Date(birthdate);
            let age = today.getFullYear() - birth.getFullYear();
            const monthDiff = today.getMonth() - birth.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                age--;
            }
            return age;
        }

        // Format phone number
        function formatPhone(phone) {
            if (!phone) return '-';
            return phone.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
        }

        // Format date to Thai format
        function formatDate(dateStr) {
            if (!dateStr) return '-';
            const date = new Date(dateStr);
            return date.toLocaleDateString('th-TH', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
    </script>
</body>
</html>